{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "file_path=$(echo $STDIN | jq -r '.tool_input.file_path // .tool_input.file // empty'); if [ -n \"$file_path\" ] && echo \"$file_path\" | grep -qE '\\.(tsx?|jsx?|json|md)$'; then npx prettier --write \"$file_path\" 2>/dev/null; fi"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "mkdir -p .boardclaude && echo \"{\\\"timestamp\\\": \\\"$(date -u +%Y-%m-%dT%H:%M:%SZ)\\\", \\\"event\\\": \\\"session_complete\\\"}\" >> .boardclaude/session-log.jsonl 2>/dev/null || true"
          }
        ]
      }
    ]
  }
}
